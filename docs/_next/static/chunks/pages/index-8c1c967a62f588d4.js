(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3678)}])},3678:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return a}});var c=r(5893),t=r(7294),o=r(9008);function u(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function i(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},c=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(c=c.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),c.forEach((function(e){u(n,e,r[e])}))}return n}function a(){var n=Array(8).fill(1).map((function(){return Array(8).fill(1).map((function(){return{checkers:0,owner:""}}))}));n[2][2].checkers=3,n[2][2].owner="left",n[5][5].checkers=3,n[5][5].owner="right";var e=(0,t.useState)(n),r=e[0],u=e[1],a=(0,t.useState)(30),s=a[0],l=a[1],f=(0,t.useState)(30),h=f[0],m=f[1],w=(0,t.useState)("left"),d=w[0],k=w[1],p=(0,t.useState)(Array(8).fill(1).map((function(){return Array(8).fill(0)}))),g=p[0],v=p[1],j=function(n,e,c,t){var o=r[n+c][e+t];o.checkers<3&&(!o.owner||o.owner===d)&&r[n][e].checkers-g[n][e]>0&&(1!==r[n][e].checkers||!("left"===d&&2===n&&2===e||"right"===d&&5===n&&5===e))?(v((function(r){return r.map((function(r,o){return r.map((function(r,u){return o===n+c&&u===e+t?r+1:r}))}))})),u((function(r){return r.map((function(r,o){return r.map((function(r,u){return o===n+c&&u===e+t?{checkers:r.checkers+1,owner:d}:o===n&&u===e?{checkers:r.checkers-1,owner:1===r.checkers?"":d}:i({},r)}))}))}))):o.owner&&o.owner!==d&&(Math.floor(2*Math.random())?("left"===d?l(s+1):m(h+1),u((function(r){return r.map((function(r,c){return r.map((function(r,t){return c===n&&t===e?{checkers:r.checkers-1,owner:1===r.checkers?"":d}:i({},r)}))}))}))):("left"===d?m(h+1):l(s+1),u((function(r){return r.map((function(r,o){return r.map((function(r,u){return o===n+c&&u===e+t?{checkers:r.checkers-1,owner:1===r.checkers?"":r.owner}:i({},r)}))}))}))))},N=function(n,e,c,t,o){t.push("".concat(n).concat(e)),"left"===o&&2===n&&2===e||"right"===o&&5===n&&5===e?c(!0):(t.includes("".concat(n-1).concat(e))||0===n||r[n-1][e].owner!==o||N(n-1,e,c,t,o),t.includes("".concat(n).concat(e+1))||7===e||r[n][e+1].owner!==o||N(n,e+1,c,t,o),t.includes("".concat(n+1).concat(e))||7===n||r[n+1][e].owner!==o||N(n+1,e,c,t,o),t.includes("".concat(n).concat(e-1))||0===e||r[n][e-1].owner!==o||N(n,e-1,c,t,o))},b=function(n){var e=[];r.forEach((function(n,r){n.forEach((function(n,c){n.owner&&n.owner!==d&&n.checkers<3&&e.push([r,c])}))})),Promise.all(e.map((function(n){return function(n,e){var r="right"===d?"left":"right";return new Promise((function(c){N(n,e,c,[],r),c(!1)}))}(n[0],n[1])}))).then((function(r){e=e.filter((function(n,e){return r[e]})),("right"===d&&e.length<=s||"left"===d&&e.length<=h)&&("right"===d?l(s-e.length):m(h-e.length),u((function(n){return n.map((function(n,r){return n.map((function(n,c){return e.some((function(n){return n[0]===r&&n[1]===c}))?{checkers:n.checkers+1,owner:n.owner}:i({},n)}))}))}))),v(Array(8).fill(1).map((function(){return Array(8).fill(0)}))),k(n)}))};return(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)(o.default,{children:(0,c.jsx)("title",{children:"Cornered"})}),(0,c.jsx)("main",{className:"board",children:r.map((function(n,e){return n.map((function(n,r){return(0,c.jsxs)("div",{className:"".concat(n.owner).concat(n.owner===d?" hoverable":""),children:[(0,c.jsx)("div",{className:"square",children:n.checkers?n.checkers:""}),e?(0,c.jsx)("div",{className:"up",onClick:function(){return j(e,r,-1,0)}}):null,r<7?(0,c.jsx)("div",{className:"right",onClick:function(){return j(e,r,0,1)}}):null,e<7?(0,c.jsx)("div",{className:"down",onClick:function(){return j(e,r,1,0)}}):null,r?(0,c.jsx)("div",{className:"left",onClick:function(){return j(e,r,0,-1)}}):null]},"".concat(e,".").concat(r))}))}))}),(0,c.jsxs)("footer",{className:"footer",children:[(0,c.jsxs)("div",{className:"checkers-left left",children:["Blue: ",s]}),(0,c.jsxs)("div",{className:"switch ".concat("left"===d?"blue":"orange"),onClick:function(){return b("left"===d?"right":"left")},children:["left"===d?"Blue":"Orange","'s turn"]}),(0,c.jsxs)("div",{className:"checkers-left right",children:["Orange: ",h]})]})]})}},9008:function(n,e,r){n.exports=r(5443)}},function(n){n.O(0,[774,888,179],(function(){return e=8581,n(n.s=e);var e}));var e=n.O();_N_E=e}]);